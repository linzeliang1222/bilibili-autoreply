# B站自动回复工具

一个基于Selenium的B站评论自动回复工具，支持扫码登录和智能回复功能。

## 功能特性

- 🔐 **扫码登录**: 支持B站扫码登录，自动保存和刷新Cookie
- 🤖 **智能回复**: 根据用户关注状态自动选择回复内容
- ⏰ **定时扫描**: 可设置扫描频率，自动检测新评论
- 🚫 **防重复**: 避免对同一评论重复回复
- 📊 **状态识别**: 自动识别用户关注状态（已关注/粉丝/未关注）
- 🎯 **精准定位**: 支持设置开始扫描时间，避免处理历史评论

## 环境要求

- Python 3.7+
- Chrome浏览器
- ChromeDriver（自动管理）

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 首次运行

```bash
python autoreply.py
```

首次运行时会弹出二维码，使用B站APP扫码登录。

### 2. 设置扫描时间

程序启动后会提示输入开始扫描的时间：
- 直接回车：使用当前时间
- 输入格式：`2024-01-01 12:00:00`

### 3. 自动回复逻辑

程序会根据用户关注状态自动选择回复内容：

- **已关注用户/粉丝**: "发过去了，没收到就私我\"校招\"，再次发给你"
- **未关注用户**: "麻烦关注一下哈，不然收不到消息～"

## 配置说明

### 回复频率设置

在 `autoreply.py` 中修改：

```python
# 回复频率（单位：分钟）
frequency = 3
```

### 自定义回复话术

```python
# 回复话术
follow_user_reply_template = "发过去了，没收到就私我\"校招\"，再次发给你"
not_follow_user_reply_template = "麻烦关注一下哈，不然收不到消息～"
```

## 文件结构

```
├── autoreply.py          # 主程序文件
├── auth.py              # 认证模块
├── requirements.txt     # 依赖包列表
├── .userdata           # 用户数据缓存（自动生成）
├── .refresh_token      # 刷新令牌（自动生成）
└── chrome_user_data/   # Chrome用户数据目录（自动生成）
```

## 工作原理

1. **登录认证**: 使用扫码登录获取Cookie，支持自动刷新
2. **页面监控**: 定期访问B站评论管理页面
3. **评论解析**: 解析评论时间、用户信息和关注状态
4. **智能回复**: 根据关注状态选择合适的回复内容
5. **状态记录**: 记录已回复评论，避免重复操作

## 注意事项

- ⚠️ 请遵守B站社区规范，合理使用自动回复功能
- 🔒 程序会在本地保存登录状态，请妥善保管
- 🚀 建议在稳定的网络环境下运行
- 📱 首次使用需要手机B站APP扫码登录
- 🕒 程序会持续运行，可使用Ctrl+C停止

## 常见问题

### Q: 登录失败怎么办？
A: 删除 `.userdata` 和 `.refresh_token` 文件，重新扫码登录。

### Q: 如何修改回复内容？
A: 编辑 `autoreply.py` 中的 `follow_user_reply_template` 和 `not_follow_user_reply_template` 变量。

### Q: 程序占用资源过高？
A: 可以增加 `frequency` 值来降低扫描频率。

## 免责声明

本工具仅供学习和研究使用，使用者需自行承担使用风险。请遵守相关法律法规和平台规则。

## 许可证

MIT License
